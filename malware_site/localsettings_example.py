import os
from socket import gethostname, gethostbyname

BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))

SECRET_KEY = os.environ.get("DJANGO_SECRET", "askldf892asd098234F0-=-90123-0alksjdasd6712339781v")
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql',
        'NAME': 'malware',
        'USER': os.environ['DB_USER'],
        'PASSWORD': os.environ['DB_PW'],
        'HOST': os.environ['DB_HOST'],
        'PORT': '5432'
    }
}

ALLOWED_HOSTS = ["localhost",
                 "127.0.0.1",
                 gethostname(),
                 gethostbyname(gethostname()),
                 os.environ['ALLOWED_IP'],
                 os.environ['ALLOWED_HOST']]

extra_hosts = os.environ.get("EXTRA_HOSTS", None)
if extra_hosts is not None:
    for host in extra_hosts.split(","):
        ALLOWED_HOSTS.append(host)

MEDIA_ROOT = os.path.join(BASE_DIR, 'media')

STATIC_ROOT = os.path.join(BASE_DIR, 'static')

ARCHIVE_PATH = os.path.join(BASE_DIR, "archives")
